const CtMain = function(){

    const experience = {
        projs: [
            {
                tit: 'Put.Call.Bot, Quant Trading Fintech, RJ-Brazil<br/>Working remote since 2013<br/>Full Stack C# Developer and DevOps',
                bdy: 'exp_pcb'
            },
            {
                tit: 'BoxBrazil, Logistics Startup, RJ-Brazil<br/>October 2010 - September 2013<br/>Full Stack C# Developer and DevOps',
                bdy: 'exp_bxbr'
            },
            {
                tit: 'Itau Previtec, Banking, RJ-Brazil<br/>July 2000 - October 2010<br/>Project Manager and Senior Software Engineer',
                bdy: 'exp_itprv'
            }
        ]
    };
    const showCase = {
        projs: [
            {
                tit: 'Jobs',
                projs: [
                    {p:'',u:'http://h2.putcallbot.com/',k:'',n:'Put.Call.Bot Quant Trade System Platform',tags:'C#,.NET,T-SQL,HTML5,CSS,Javascript,jQuery,WebService API,FIX Protocol,Subversion,SQL SERVER,IIS,AWS',d:`
                    <div class="accord-subtit">Since 2013 as Full Stack Developer and DevOps</div>
                    Put.Call.Bot is a software solution that evaluates quantitative analysis from real time
                    Bovespa exchange market data, sending buy and sell signals to broker according to the
                    algorithmic strategy chosen by the trader.<br>
                    This automated trading system is a very powerful web platform that allows our clients work from any web browser or device.
                    It is designed to negotiate stocks, options, derivatives and future instruments in a low or high frequency trading way and manages day trade or swing trade positions as well.<br>
                    The trader can work with virtual orders or set to route them to his broker, also one or more broker accounts can be saved and used. <br>
                    Our platform allows the trader to create, debug, test, optimize, and execute trading robots in an exclusive environment totally independent from the production server. <br>
                    The user can request a development server to safely build and test their algorithmics. <br>
                    When the work is done, all these strategies can be published to production in the real world environment.<br>
                    The main purpose of PutCallBot is to replace the hard work of following the market tick
by tick giving time to the trader evaluate better strategies for his portfolio.<br><br>
<a href="assets/doc/PutCallBot_v138_en.pdf">click here to open the Compliance Document sent to XP Broker in March, 2017</a>
<br><br>`},
                ]
            },
            {
                tit: 'Web Design & Style, HTML5, SCSS, Flexbox',
                k: 'rebrand/FreeCodeCamp/Certification/ResponsiveWebDesign',
                projs: [
                    {k:'AccessibilityQuiz',n:'Accessibility Quiz',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'BalanceSheet',n:'Balance Sheet',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'CatPainting',n:'Cat Painting',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'CitySkyline',n:'City Skyline',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'FerrisWheel',n:'Ferris Wheel',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'LandingPage',n:'Landing Page',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'Magazine',n:'Magazine',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'NutritionLabel',n:'Nutrition Label',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'Penguin',n:'Penguin',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'PhotoGallery',n:'Photo Gallery',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'Piano',n:'Piano',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {u:'https://sabsfilho.github.io/dev/',n:'Portfolio Demo',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'RegistrationForm',n:'Registration Form',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'RothkoPainting',n:'Rothko Painting',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'SurveyForm',n:'SurveyForm',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''},
                    {k:'TechnicalDocumentation',n:'Technical Documentation',tags:'HTML5,CSS,SCSS,Flexbox,CSS Grid',d:''}
                ]
            },
            {
                tit: 'Javascript JSE6',
                k: 'rebrand/FreeCodeCamp/Certification/JavaScriptAlgorithmsAndDataStructures',
                projs: [
                    {k:'CashRegister/CashRegister',n:'CashRegister',tags:'JSE6',d:''},
                    {k:'CashRegister/DiceGame',n:'DiceGame',tags:'JSE6',d:''},
                    {k:'CashRegister/PlatformerGamer',n:'PlatformerGamer',tags:'JSE6',d:''},
                    {k:'CashRegister/ShoppingCart',n:'ShoppingCart',tags:'JSE6',d:''},
                    {k:'Palindrome/CalorieCounter',n:'CalorieCounter',tags:'JSE6',d:''},
                    {k:'Palindrome/DateFormatter',n:'DateFormatter',tags:'JSE6',d:''},
                    {k:'Palindrome/MusicPlayer',n:'MusicPlayer',tags:'JSE6',d:''},
                    {k:'Palindrome/PalindromeChecker',n:'PalindromeChecker',tags:'JSE6',d:''},
                    {k:'Palindrome/RolePlayingGame',n:'RolePlayingGame',tags:'JSE6',d:''},
                    {k:'PokemonSearchApp/fCCAuthorsPage',n:'fCCAuthorsPage',tags:'JSE6',d:''},
                    {k:'PokemonSearchApp/fCCForumLeaderboard',n:'fCCForumLeaderboard',tags:'JSE6',d:''},
                    {k:'PokemonSearchApp/PokemonSearchApp',n:'PokemonSearchApp',tags:'JSE6',d:''},
                    {k:'RomanNumeralConverter/DecimalToBinaryConverter',n:'DecimalToBinaryConverter',tags:'JSE6',d:''},
                    {k:'RomanNumeralConverter/FootballTeamCards',n:'FootballTeamCards',tags:'JSE6',d:''},
                    {k:'RomanNumeralConverter/RomanNumeralConverter',n:'RomanNumeralConverter',tags:'JSE6',d:''},
                    {k:'RomanNumeralConverter/TodoApp',n:'TodoApp',tags:'JSE6',d:''},
                    {k:'TelephoneNumberValidator/NumberSorter',n:'NumberSorter',tags:'JSE6',d:''},
                    {k:'TelephoneNumberValidator/SpamFilter',n:'SpamFilter',tags:'JSE6',d:''},
                    {k:'TelephoneNumberValidator/Spreadsheet',n:'Spreadsheet',tags:'JSE6',d:''},
                    {k:'TelephoneNumberValidator/StatisticsCalculator',n:'StatisticsCalculator',tags:'JSE6',d:''},
                    {k:'TelephoneNumberValidator/TelephoneNumberValidator',n:'TelephoneNumberValidator',tags:'JSE6',d:''},
                ]
            },
            {
                tit: 'Front End, React, Redux',
                k: 'rebrand/FreeCodeCamp/Certification/FrontEndDevelopment',
                projs: [
                    {k:'25-5-clock/dist',n:'25-5 Clock',tags:'HTML5,SCSS,JSE6,React,Redux',d:''},
                    {k:'drum-machine/dist',n:'Drum Machine',tags:'JSE6,React,Redux',d:''},
                    {k:'javascript-calculator/dist',n:'Calculator',tags:'JSE6,React,Redux',d:''},
                    {k:'random-quote-machine/dist',n:'Random Quote Machine',tags:'JSE6,React,Redux',d:''},
                    {k:'simple-react-markdown-previewer/dist',n:'Simple React Markdown Previewer',tags:'JSE6,React,Redux',d:''},
                ]
            },
            {
                tit: 'Data Visualization, Charts, D3.js',
                k: 'rebrand/FreeCodeCamp/Certification/DataVisualizationProjects',
                projs: [
                    {k:'bar-chart-using-d3-js/dist',n:'Bar Chart',tags:'JSE6,D3.js',d:''},
                    {k:'choropleth-map/dist',n:'Choropleth Map',tags:'JSE6,D3.js,topojson.js',d:''},
                    {k:'d3',n:'Point Chart',tags:'JSE6,D3.js',d:''},
                    {k:'heat-map/dist',n:'Heat Map Chart',tags:'JSE6,D3.js',d:''},
                    {k:'scatterplot-graph/dist',n:'Scatterplot Graph',tags:'JSE6,D3.js',d:''},
                    {k:'treemap-diagram/dist',n:'Tree Map Diagram',tags:'JSE6,D3.js,API,JSON,webservice',d:''},
                ]
            },
            {
                tit: 'Relation Database, Bash, PostGRE, PSQL',
                k: 'rebrand/FreeCodeCamp/Certification/RelationDatabase',
                projs: [
                    {k:'bike_rental/BikeRental.sh',n:'Bike Rental',tags:'Bash',d:''},
                    {k:'five_programs/bingo.sh',n:'Bingo',tags:'Bash',d:''},
                    {k:'five_programs/countdown.sh',n:'Countdown',tags:'Bash',d:''},
                    {k:'five_programs/five.sh',n:'Five',tags:'Bash',d:''},
                    {k:'five_programs/fortune.sh',n:'Fortune',tags:'Bash',d:''},
                    {k:'five_programs/questionnaire.sh',n:'Questionnaire',tags:'Bash',d:''},
                    {k:'kitty_ipsum_translator/translate.sh',n:'Kitty Ipsum Translator',tags:'Bash',d:''},
                    {k:'number_guess.',n:'Number guess',tags:'Bash,PSQL',d:''},
                    {k:'periodic_table.',n:'Periodic Table',tags:'Bash,PSQL',d:''},
                    {k:'salon.',n:'Salon',tags:'Bash,PSQL',d:''},
                    {k:'students/students_info.sh',n:'Students',tags:'Bash,PSQL',d:''},
                    {k:'worldcup.',n:'Worldcup',tags:'Bash,PSQL',d:''},
                    
                ]
            },
            {
                tit: 'Back End, npm, Node.js, Express.js, Mongoose.js, AZURE',
                k: 'rebrand/FreeCodeCamp/Certification/BackEndDevelopment',
                projs: [
                    {u:'https://boilerplate-project-mongodb.azurewebsites.net/',n:'Exercise Tracker',tags:'Node.js,Express.js,Mongoose.js,MONGODB,AZURE',d:''},
                    {u:'https://lab-project-01.azurewebsites.net/api/express',n:'Express Microservice',tags:'Node.js,Express.js,AZURE',d:''},
                    {u:'https://lab-project-01.azurewebsites.net/api/filemetadata.',n:'File Metadata',tags:'Node.js,Express.js,multer.js,AZURE',d:''},
                    {u:'https://lab-project-01.azurewebsites.net/api/headerparser.',n:'Header Parser',tags:'Node.js,Express.js,AZURE',d:''},
                    {u:'https://lab-project-01.azurewebsites.net/api/timestamp',k:'',n:'Time Stamp',tags:'Node.js,Express.js,AZURE',d:''},
                    {u:'https://lab-project-01.azurewebsites.net/api/urlshortener.',n:'URL Shortener',tags:'Node.js,Express.js,AZURE',d:''},
                ]
            }
        ] 
    };

    const data = {
        skills: [
            'C#, .NET',
            'MS SQL Server &amp; T-SQL, PostGRE &amp; PL/pgSQL, MongoDB',
            'JavaScript ES6, jQuery, Node.js, Express, React, Mongoose, RESTful',
            'HTML5, CSS, SCSS, Sass, Jekyll',
            'AWS, Azure',
            'Project Management (Kanban ✔️, SCRUM, Waterfall)',
            'Git, GitHub, Apache Subversion, TortoiseSVN'
        ],
        certifications: [
            ['Back End Development and APIs @ FreeCodeCamp - January 31, 2024','https://www.freecodecamp.org/certification/sabsfilho/back-end-development-and-apis','Build microservices with npm, Node.js, Express.js, Mongoose.js and Mongo Database.'],
            ['Relation Database Certification @ FreeCodeCamp - January 29, 2024','https://www.freecodecamp.org/certification/sabsfilho/relational-database-v8','Create, query a relational database using PostgreSQL, PSQL, VS Code and Linux Bash commands. Build scripts for version control system commands using Git.'],
            ['Data Visualization Certification @ FreeCodeCamp - January 17, 2024','https://www.freecodecamp.org/certification/sabsfilho/data-visualization','Build charts, graphs, maps with JavaScript, D3.js, Babel, JSON API, AJAX'],
            ['Front End Development Libraries @ FreeCodeCamp - January 13, 2024','https://www.freecodecamp.org/certification/sabsfilho/front-end-development-libraries','Build Single Page Applications (SPAs) with HTML, Bootstrap, Sass, SCSS, JavaScript, React, Redux, Babel.'],
            ['Javascript Algorithms and Data Structures @ FreeCodeCamp - January 5, 2024','https://www.freecodecamp.org/certification/sabsfilho/javascript-algorithms-and-data-structures-v8','Build interactive interface using JavaScript fundamentals, Object Oriented and Functional Programming, Algorithms, Local storage, API Fetch data.'],
            ['Responsive Web Design @ FreeCodeCamp - December 28, 2023','https://www.freecodecamp.org/certification/sabsfilho/responsive-web-design','Build web pages with HTML5, CSS, SCSS, Flexbox and CSS Grid.'],
            ['Foundational C# with Microsoft @ FreeCodeCamp - December 11, 2023','https://www.freecodecamp.org/certification/sabsfilho/foundational-c-sharp-with-microsoft','Build C# applications using core concepts and object-oriented programming principles.'],
        ],
        profiles: [
            ['FreeCodeCamp','https://www.freecodecamp.org/sabsfilho','My learning place to assimilate new cool techies stuff and practice a lot in real case scenarios'],
            ['Git Hub','http://github.com/sabsfilho','My codespace.'],
            ['Microsoft','https://learn.microsoft.com/en-us/users/samuelsantos-1448/','My windows since my first deployment.'],
            ['HackerRank','https://www.hackerrank.com/profile/sabsfilho','My gym where I keep myself in good shape for hack activities.'],
            ['CodeWars', 'https://www.codewars.com/users/sabsfilho', 'My another gym...'],
            ['CodePen','https://codepen.io/sabsfilho','My front end sandbox.'],
            ['Replit','https://replit.com/@sabsfilho','My back end sandbox.'],
            ['CodeAlly','https://codeally.io/cv/1925e7e676abb9663fe62f5e','My job sandbox.']
        ],
        education: [
            ['Computer Science &amp; System Project Management @ Pontifícia Universidade Católica - PUC','https://www.puc-rio.br','2005-2006, Rio de Janeiro, RJ - Brazil'],
            ['Mechanical Engineer @ Federal University of Rio de Janeiro - UFRJ','http://www.mecanica.ufrj.br/ufrj-em/','1995-2001, Rio de Janeiro, RJ - Brazil']
        ],
        awards: [
            ['ABCM-EMBRAER 2004 prize in undergraduate category','https://abcm.org.br/symposium-series/SSM_Vol2/Section_II_Industrial_Instrumentation/SSM2_II_05.pdf',`
2001-2003, UFRJ Robotics Lab (LabRob), Rio de Janeiro, RJ - Brazil<br>
A Digital System for Measurements in Gypsum Molds for Orthodontics Mechanical Engineering Department
<a class="toggle-link" data-hidden="click here to see more info" data-shown="show less"></a>
<div class="toggle-panel">
<p>I was very lucky to be in the right place at the right time when I was invited to collaborate on this project.</p>
<p>At that time I was working as a C++ programmer at the Robotics Lab of the Federal University of Rio de Janeiro, UFRJ on a public funded research project.
This Lab coordinator asked me if I could offer some kind of help for his research team to solve a puzzle they were facing on another project which was a cooperation with the Orthodontics department from the Federal University of Mato Grosso do Sul, UFMS.<br>
A PHD doctor was doing research to propose a new technique to correct maxillae malformation, executing on the patient's jaws a series of surgeries based on the results from his study. In order to support him, we conceived a system to automate processes such as data acquisition, data manipulation, image visualization and evaluation of results from data analysis.</p>
I developed a dedicated Windows program coded in Borland C++ 6.0 which was responsible for capturing the joint variables acquisition and conversion into Cartesian coordinates, through direct kinematics relations. 
Then, the image of the mold contour was shown in the computer screen so that the user can visualize the results of the data acquisition being analyzed and decide whether they are ready or not to be registered in the database file. Statistics was extensively used to evaluate data from acquired curves. 
In 2003 this digital system for measuring gypsum molds was used by Dr. Marcelo Arruda and he evaluated more than 3000 models in three days at Dr. Andrew J. Haas Laboratory, in Chicago, USA.
The on site and offline tasks were performed with success.</p>
<p>The goodwill of this project was noteworthy and with the positive impact in so many patients' lives, we were awarded and recognized by the Mechanical Science and Engineering Brazilian Association (ABCM).</p>
<div class="digital-devices-imgs">
<img src="assets/img/digital-system/digital-device.jpg" alt="digital device" />
<div>Digital Device</div>
<img src="assets/img/digital-system/procedures.jpg" alt="diagram flow" />
<div>Diagram Flow</div>
<img src="assets/img/digital-system/interface.jpg" alt="software interface" />
<div>Software Interface</div>
</div>
</div>
`]

        ],
        outerITWorld: [
            `Capital Markets &amp; Securities Analyst For Trading Floor Certification<br>
1998-1999,  Rio de Janeiro Stock Exchange,  Rio de Janeiro, RJ - Brazil<br>
<em>Economics for Capital Markets; Financial and Statistical Calculation; Asset Classes; Financial Instruments and Markets; Equity Markets Trend Analysis; Portfolio Management; Brazilian Securities Law; Structure and Dynamics of a Trading Floor Negotiation</em>
<p class="first-p">The key aspect I learned from this course was risk control for portfolio management. This kind of mindset I apply on my projects, 
for instance managing the tradeoff to deploy a patch on production, we should take care of the risks involved from a breaking version, 
stepping in and out as handling a bad asset position to secure the fund health as a whole. I also learned that Risk Management means what to do when things go bad and this concept should be applied in too many aspects in our lives.</p>
`,
`Financial Mathematics with HP 12c<br>
1997, 40 hours, Rio de Janeiro Stock Exchange,  Rio de Janeiro, RJ - Brazil<br>
<em>Financial Fundamentals, Simple interest, Compound interest and Amortization, Discounted Cash Flow Analysis, Bond and Depreciation Calculations.</em>
<p class="first-p">I learned the financial power of compound interest which is the most important math equation we should learn.</p>
<p><em><q>There is no force in the universe more powerful than compound interest</q>, Albert Einstein</em></p>
`
        ]/*,
        entrepreneurship: [
            'entrepreneurship Adventures = teleprompter, casar É fácil, bomdeclick, homenzinho'
        ]*/
    };

    /* html templates */
    const templ = {
        accord: (i,n,w) => {
            const multiline = n.includes('<br') ? ' multiline' : '';
            return `<button class="accord-btn accord-l${i}${multiline}"><div data-hidden="+" data-shown="-"></div>${n}</button><div class="accord-panel">${w}</div>`
        },
        href: (u,t) => `<a href="${u}" rel="nofollow" target="_blank">${t}</a>`,
        item: (x) => {
            const zs = [templ.href(x[1],x[0])];
            if (x.length > 2){
                zs.push(`<div class="item-descr">${x[2]}</div>`)
            }
            return zs.join('')
        }
    },
    setText = (id, v) => document.getElementById(id).innerHTML = v,
    isArray = x => x.constructor === Array,
    addAccordeonEvent = (className)=>{

        const toggle = (el, hidden) => {
            if (el === null) return;
            if (el.hasAttribute('data-hidden')){
                el.innerHTML = hidden ? el.getAttribute('data-hidden') : el.getAttribute('data-shown')
                
            }
            else {
                toggle(el.firstChild, hidden)
            }
        };

        const els = document.getElementsByClassName(className);
        for(const el of els){
            toggle(el, true);
            el.addEventListener('click', function(){
                const hidden = this.nextElementSibling.style.display === 'block';
                this.classList.toggle("active");                
                this.nextElementSibling.style.display = hidden ? 'none' : 'block'
                toggle(el, hidden);
                const w = window.innerWidth,
                p = el.parentElement.parentElement.classList;
                if (!hidden && w > 990) {
                    p.add('expand')
                }
                else {
                    if (p.contains('expand')){
                        const chs = el.parentElement.children;
                        let hasExpanded = false;
                        for(const ch of chs) {
                            if (
                                ch.tagName.toLowerCase() == 'button' &&
                                ch.classList.contains('active')
                            ){
                                hasExpanded = true;
                                break
                            }
                        }
                        if (!hasExpanded){
                        p.remove('expand')
                        }
                    }
                }
            })
        }
        
    }
    buildItem = x=>isArray(x) ? templ.item(x) : x,
    buildList = ls => ['<ul>', ls.map(x=>`<li>${buildItem(x)}</li>`).join(''), '</ul>'].join(''),
    buildGroup = (descr, content) => {

        const buildAccord = (i, ws, z, ks)=>{
            if (!z) return;

            const zs = [];

            const addK = (k,l) => {
                let v = z[k];
                if (v) {
                    if (l) v = [l,v].join('');
                    zs.push(`<div class="accord-${k}">${v}</div>`)
                }
            },
            fnzk = ()=>{
                const qs = [ks.join(',')];
                let zk = z.k;
                if (zk[zk.length-1]==='.'){
                    zk = zk.substring(0,zk.length-1)
                }
                qs.push(zk);
                if (z.k.indexOf('.')===-1){
                    qs.push('index.html')
                }
                return qs.join('/')
            },
            u = 
            z.u ? z.u : 
            z.k ? fnzk() :
            null;
            if (u && z.n) {
                zs.push(templ.href(u,z.n))
            }
            else {
                addK('n');
            }
            
            addK('d');
            addK('tags','skills: ');

            if (z.k){
                ks.push(z.k)
            }

            if (z.projs) {                
                z.projs.forEach(p => buildAccord(i+1, zs, p, [...ks]));
            }
            else if (z.bdy) {
                zs.push(`<div class="ext-bdy" data-bdy="${z.bdy}">carregando...</div>`)                
            }
            
            ws.push(
                z.tit ? 
                templ.accord(i, z.tit, zs.join('')) :
                zs.join('')
            )
        };

        const qs = [`<p>${descr}</p>`];

        buildAccord(0, qs, content, []);

        return qs.join('')
    },
    buildShowcases = () => buildGroup('Click on the buttons below to see some of my skills in action.', showCase),
    buildExperiences = () => buildGroup('Click on the buttons below to see my work experience.', experience),
    getFirstByClass = (el, cn) => el.getElementsByClassName(cn)[0],
    getFirstByTag = (el, cn) => el.getElementsByTagName(cn)[0],
    loadExternalBody = () => {
        const els = document.getElementsByClassName('ext-bdy');
        for(const el of els) {
            fetch(`assets/html/portfolio/${el.getAttribute('data-bdy')}.html`)
            .then(x => x.text())
            .then(x => el.innerHTML = x)        
            .catch(error => {
                return Promise.reject(error);
            })
        }

    },
    addBlocks = ()=>{
        const panel = document.getElementById('panel');
/*
mainContent = {
    body,
    href,
    index,
    tagImg,
    tagColor,
    tit
}
*/
        const mainContents = [
            {
                body:`
<div class="bio">
<p>I've been working in Rio de Janeiro, Brazil for more than 25 years in software development and team management in Brazilian IT, Banking and Fintech companies.</p>
<p>I graduated in Mechanical Engineering from Federal University of Rio de Janeiro, one of the most prestigious universities in Brazil, and worked in the Robotics Lab until graduation.
I post-graduated in Computer Science & System Project Management from Pontifícia Universidade Católica - PUC also a renowned university in Brazil.</p>
<p>Over the last 10 years, I've been working asynchronously as a Senior Full-Stack Developer in a full remote position in a small Fintech company that develops stock market trade solutions, including a stock portfolio management system that autonomously makes smart and fast trade decisions, using Quant trading strategies.</p>
<p>I'm currently looking for the opportunity to work remotely in IT projects abroad.</p>
<p>My hour is a commodity that your budget can take advantage of.
As I work from Brazil, we can together be very happy with the currency exchange rates. So, it's definitely a win–win game for us!</p>
<p>Available to start work right now on a full or part-time remote job at 4PM-6AM GMT,
<br/><u>also flexible for any time zone overlap</u>.</p>
<p><em>I need employer sponsorship to work within the United States.</em></p>
<div>
<span>Please send me a message if you want to talk about how we can team up:</span>
<textarea id="msg" class="msg" maxlength="500"></textarea>
<div class="email-blk">
<span class="mailme">remember to <strong>include your e-mail</strong> to allow me reply you an soon as possible.</span>
<div>
<label for="email">e-mail:</label>
<input id="email" type="email" placeholder="type your e-mail here" />
</div>
</div>
<button id="sendbtn">Send</button>
</div>
</div>
                `,
                index:0,
                tagImg:'assets/img/sailboat02.jpg',
                tit:'About'
            },
            {
                body:`${buildList(data.skills)}
<p><em>DORMANT Skills<sub> used to work with a long time ago</sub></em><br>
<em>- JAVA, C++, C</em></p>
<p><em>FORTHCOMING Skills<sub>learning and improving</sub></em><br>
<em>- Deep Learning techniques</em><br>
<em>- ML.NET</em><br>
<em>- Python, Pandas, Jupyter, Seaborn, Scikit-learn, Keras and TensorFlow</em><br>
<em>- Google Colab &amp; VSCode</em></p>            
                `,
                index: 1,         
                tagImg: 'assets/img/wave.jpg',
                tit: 'Skills'
            },
            {
                body: buildShowcases(),
                index: 2,
                tagImg: 'assets/img/library.jpg',
                tit: 'Showcases'
            },
            {
                body: buildList(data.certifications),
                index: 3,
                tagImg: 'assets/img/lego-bricks.jpg',
                tit: 'Certifications'
            },
            {
                body: buildExperiences(),
                index: 4,
                tagImg: 'assets/img/trophies4.jpg',
                tit: 'Work Experience'
            },
            {
                body: buildList(data.profiles),
                index: 7,
                tagImg: 'assets/img/stamps.jpg',
                tit: 'Profiles'
            },
            {
                body: buildList(data.education),
                index: 5,
                tagImg: 'assets/img/education.jpg',
                tit: 'Education'
            },
            {
                body: buildList(data.awards),
                index: 6,
                tagImg: 'assets/img/medals.jpg',
                tit: 'Awards'
            },
            {
                body: buildList(data.outerITWorld),
                index: 8,
                tagImg: 'assets/img/milky-way.jpg',
                tit: 'Outer IT World'
            }
        ].sort((a,b)=>b.index-a.index);

        const getHref = c => c.href ? c.href : '#';

        const addBlock = (c)=>{
            const href = getHref(c),
            h = `
<a class="post-thumbnail" style="background-image: url(${c.tagImg})" href="${href}/"></a>          
<div class="post-content">
<h2 class="post-title"><a href="${href}">${c.tit}</a></h2>
${c.body}
</div>
        `,
            elem = document.createElement('article');
            elem.className = 'post';
            elem.innerHTML = h;
            panel.prepend(elem)

        };

        for(const c of mainContents){
            addBlock(c)
        }

        addAccordeonEvent('accord-btn');
        addAccordeonEvent('toggle-link');

    };

    const addDialog = (tit,msg,pnt,btnID)=>{
        const div = document.createElement('div');
        div.className = 'dlg-pin';
        div.innerHTML = `
<div class="dlg">
<div class="tit">
        <div class="leg">${tit}</div>
        <div class="btn-x close">X</div>
</div>
<div class="bdy">${msg}</div>
</div>
        `;
        if (pnt){
            pnt.append(div);
        }
        else{
            document.getElementsByTagName('body')[0].append(div)
        }

        const toggle = () => {
            div.style.visibility = div.style.visibility==='visible' ?  'hidden' : 'visible'
        };
        
        getFirstByClass(div, 'close').addEventListener('click', ()=>div.style.visibility='hidden');
        if (btnID){
            document.getElementById(btnID).addEventListener('click', toggle);
        }

        return div
    };

    const addMailDialog = ()=>{
        const m = '115,97,98,115,102,105,108,104,111,64,103,109,97,105,108,46,99,111,109'.split(',').map(x=>String.fromCharCode(x)).join('');
        const pnt = getFirstByClass(document, 'contact'),
        dlg = addDialog(
            'This is my contact e-mail',
            `
<a href="mailto:${m}">${m}</a>
<a class="copy close mailto" href="#"><span class="tooltipcopy">e-mail copied</span>click to copy</a>
            `,
            pnt, 
            'mailto'
        );
        getFirstByClass(dlg, 'copy').addEventListener('click', function(){
            const sty = getFirstByClass(dlg, 'tooltipcopy').style;
            navigator.clipboard.writeText(m);
            sty.visibility = 'visible';
            setTimeout(()=>sty.visibility = 'hidden', 2000)
        });
        getFirstByTag(document, 'body').addEventListener('click', function(e){
            const cn = e.srcElement.className;
            if (
                dlg.style.visibility==='visible' &&
                !cn.includes('mailto') &&
                !cn.includes('bdy') &&
                !cn.includes('leg')
            ){
                getFirstByClass(dlg, 'close').click()
            }
        });

    };

    const addMessageControl = ()=>{
        const alertDlg = addDialog();
        alertDlg.style.position = 'absolute';
        document.getElementById('sendbtn').addEventListener('click', function(e){
            const showMsg = (leg,m) => {
                getFirstByClass(alertDlg, 'leg').innerHTML = leg;
                getFirstByClass(alertDlg, 'bdy').innerHTML = m;
                alertDlg.style.visibility = 'visible';
                const r = msg.getBoundingClientRect();
                alertDlg.style.top = (r.top+window.scrollY)+'px';
                alertDlg.style.left = (r.right-400)+'px';
            };
            const isValidEmail = () => {
                return String(email.value)
                  .toLowerCase()
                  .match(
                    /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
                  );
              };
            
            const msg = document.getElementById('msg'),
            email = document.getElementById('email');

            if (!msg.value){
                showMsg('Alert','Please type a short message about your project.');
                msg.focus();
                return
            }
            if (!isValidEmail()){
                showMsg('Alert','Please type a valid e-mail to allow me reply you.');
                email.focus();
                return
            }

            const fd = new FormData();
            fd.append('email', email.value);
            fd.append('msg', msg.value);

            fetch('https://lab-project-01.azurewebsites.net/api/contact/skills', {
                method: "POST",
                body: fd
            })
            .then(result => {
                showMsg('Success', `<div class="success-msg">I got your message!<br><br>I'll reply to you soon.<br><br>Thank you so much!<br></div>`);
                msg.value = '';
                email.value = '';
                setTimeout(()=>{
                    alertDlg.style.visibility = 'hidden'
                },5000)
            })            
            .catch(error => {
                showMsg('Error', error);
                return Promise.reject(error);
            });
        })
    };

    const load = ()=>{

        addBlocks();

        setText('year', new Date().getFullYear());

        addMailDialog();
        
        addMessageControl();

        loadExternalBody();
    };

    return {
        load: load
    }
}();

window.addEventListener('load', CtMain.load)